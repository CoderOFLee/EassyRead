```[1]李珍,邹德清,王泽丽等.面向源代码的软件漏洞静态检测综述[J].网络与信息安全学报,2019,5(01):1-14.```
## 一、背景介绍
计算机科学技术的发展在为人类带来便利的司时，也给恶意分子提供了犯罪的工具。尤其是在网终空间安全领域，黑客攻击、数字资产盗窃.用户隐私信息泄露等各种网络安全事件屡屡出现，严重危害了网络的进一步发展和用户对其的信任度。软件系统作为网终空间的核心组件，其本身存在的漏洞是导致这些攻击的根本原因。软件漏洞是指软件在其生命周期 (即开发、部署执行整个过程) 中存在的缺陷，而这些缺陷可能会被不法分子利用，绕过系统的访问控制，非法窃取较高的权限从而任意操纵系统，如触发特权命令、访问敏感信息、冒充身份、监听系统运行等。随着现有软件系统愈加复杂庞大，漏洞出现频率不断提升，急需针对漏洞检测领域开展系统的研究工作，以便高效及时地发现软件系统的漏洞，实时修补，提高网络空间的安全等级.
## 二、分类
#### 1.基于二进制
```
准确度高，难度大（没有上层代码的数据结构和逻辑结构）
```
#### 2.基于源代码
```
基于中间形式（适用大规模）+基于逻辑推理（形式化描述源代码后进行分析，不适合大规模项目）  
```
本文主要进行基于中间形式的进行综述分析
## 三、基于相似性的漏洞检测
#### 1.识别由于代码复制导致的漏洞
```
有三个属性：代码表征、代码段级别、比较方法
```
#### 2.代码表征：
```
（1）基于文本：文本缺少语法语义，基本弃用
（2）基于度量：限定条件多
（3）基于标记：只对代码进行词法分析得到token流，并转为一个向量表示
（4）基于树：经过语法分析得到AST抽象语法树，时间复杂度高
（5）基于图：构建PDG程序依赖图，匹配子图，复杂度高
```
#### 3.代码段级别：
```
（1）不带上下文的补丁级：提取删除行（-开头）
（2）切片级：基于PDG对程序切片，同样通过子图的同构检测
（3）带上下文的补丁级：提取没有前缀的行和删除行（-开头）
（4）函数片段级：以函数作为独立单位
（5）文件/构件级别：粗粒度
```
#### 4.比较方法：
```
（1）向量比较：将代码表征和目标程序（人工设定的漏洞）表征转为向量比较
（2）近似/精确匹配：包含关系、子串匹配、完整子图同构匹配、近似γ-同构匹配
```
#### 5.只需要某种漏洞的单个实例即可完成检测，局限在类型I和类型II的代码复制引起的漏洞，覆盖部分类型III引起的漏洞

## 四、基于符号执行的漏洞检测
#### 1.概述
```
使用中间语言，结合符号执行和约束求解来检测漏洞。通过使用符号执行技术，将程序中变量的值表示为符号值和常量组成的计算表达式，而一些程序漏洞可以表现为某些相关变量的取值不满足相应的约束。通过判断表示变量取值的表达式是否满足相应的约束，来检测程序是否存在相应的漏洞。
```
#### 2.总结
```
可以通过符号执行来生成引发漏洞的输入，并根据这个输入来验证和分析漏洞。但是约束求解器无法求解所有形式的约束，开销也很大
```
## 五基于规则的漏洞检测
#### 1.概述
```
有专家针对各类漏洞人工分析生成漏洞规则，在词法语法解析基础上，对源代码建模，进行数据流分析、污点分析等
```
#### 2.数据流分析
```
根据程序执行路径流动的信息分析，获取程序变量在某个程序点的性质、状态或取值，相应的，某些漏洞就能表示为某个程序变量在某个程序点的性质、状态或取值。
```
#### 3.污点分析
```
跟踪并分析污点信息在程序中的流动，将感兴趣的数据标记为污点数据，根据跟踪的污点信息的流动信息来挖掘程序漏洞。
```
#### 4.开源工具和商业产品
```
Flawfinder、RATS、ITS4是开源工具，Checkmarx、Forify、Coverity等。Checkmarx使用源代码，无需编译，后两种使用中间形式，需要编译
```
#### 5.总结
```
这个方法的漏洞规则生成依赖人类专家，主观性强。虽然能精确到行，但是规则的不完善导致漏洞检测具有较高的误报和漏报。
```
## 五、基于机器学习的漏洞检测
#### 1.机器学习基础：
```
（1）监督学习：学习系统基于一组标记的训练样本学习所需的模型，每个样本由输入张量和相应输出标签组成
（2）无监督学习：在没有标记训练数据的情况下，学习系统的目标是识别给定数据集中的模式和结构
（3）强化学习：与动态环境的互动来接受奖励和惩罚，训练系统达到某个目标
```
#### 2.基于传统机器学习的漏洞分析：
```
（1）针对特定漏洞类型：借助专家知识将漏洞分为不同类型，每个学习系统学习一个类型的漏洞模式，采用支持向量机、k近邻等方法
（2）漏洞类型无关：采用系统调用或者开发人员活动等与漏洞类型无关的特征来刻画漏洞，每个学习系统学习根据这些无关特征学习漏洞模式
（3）依赖专家手工定义特征属性，粒度通常较粗，无法确定漏洞行的确切位置
```
#### 3.基于深度学习的漏洞分析：
```
（1）不需要专家手动定义特征，自动生成漏洞模式
（2）现有研究成果：
    · 针对跨项目，在函数级别检测[2]
    · 在函数级别进行基于代码相似性的二进制漏洞检测[3]
    · 从模糊测试的输入文件中学习模式来指导未来的模糊测试[4]
    · 针对C/C++开源软件代码，开发了大规模函数级漏洞检测系统，针对此法解析后的源代码学习[5]
    · 针对C/C++，基于一个静态分析其的结构构建了开源数据集[6]
（3）现有不足：
    · 粒度粗，停留在函数级，无法指出漏洞精确位置
    · 缺少涵盖各种类型漏洞的大规模标注数据集
    · 面向漏洞检测的模型少
    · 只能检测漏洞是否存在，无法给出更详细的信息
```
```[2]LIN G, ZHANG J, LUO W, et al. POSTER: vulnerability discovery with function representation learning from unlabeled projects [C]//The 2017 ACM SIGSAC Conference on Computer and Com munications Security (CCS). 2017: 2539-2541```

```[3]XU X, LIU C, FENG Q, et al. Neural network-based graph embed ding for cross-platform binary code similarity detection[C]//The 2017 ACM SIGSAC Conference on Computer and Communica tions Security (CCS). 2017: 363-376.```

```[4]RAJPAL M, BLUM W, SINGH R. Not all bytes are equal: neural byte sieve for fuzzing[J]. CoRR, vol. abs/1711.04596, 2017.```

```[5]RUSSELl R L, KIM L Y, HAMILTON L H, et al. Automated vul nerability detection in source code using deep representation learn ing[J]. CoRR, vol. abs/1807.04320, 2018.```

```[6]HARER J A, KIM L Y, RUSSELL R L, et al. Automated software vulnerability detection with machine learning[J]. CoRR, vol. abs/1803.04497, 2018.```
