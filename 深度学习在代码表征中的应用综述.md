```[1]谢春丽,梁瑶,王霞.深度学习在代码表征中的应用综述[J].计算机工程与应用,2021,57(20):53-63.```

## 一、基于深度学习的代码表征框架
#### 1.开源代码库->代码表征->深度学习模型->下游任务
#### 2.常用的深度学习网络：循环神经网络RNN、卷积神经网络CNN、图神经网络GNN、seq2seq模型
## 二、分类
#### 1.表征粒度：
```
（1）词汇级：源代码本身、词法分析的token序列。如Word2Vec模型
（2）语句级：基于AST、DFG进行分析。如Inst2Vec模型
（3）函数级：将AST的函数节点作为原子节点，用孩子节点加权对函数节点进行征，如Fun2Vec模型
```
#### 2.表征层次：
```
（1）文本级：基于源代码本身或者token序列
（2）语法级：也称结构级，变量名称、数据类型、注释信息、代码风格、增删无关逻辑而不改变程序执行结构，则认为是一样的表征
（3）语义级：通过数据流图、控制流图CFG、程序依赖图PDG等可以提供语义信息，通过图同构和子图的方法，可以进行比较
（4）功能级：把CFG中的节点加标签，选择途中部分路径可以表示功能
```
## 三、基于自然语言的模型
#### 1.代码的自然性：[27] 标识符嵌入的基准，提供了一个标识符的 IdBench
#### 2.N-Gram模型：
```
（1）N-Gram模型是代码表征最经典的机器学习方法，它是一种基于概率的语言模型（Language Model，LM），根据单词的顺序序列，预测下一个输出序列的概率，即这些单词的联合概率。
```
## 四、基于深度学习的模型
#### 1.基本模型：
```
输入层（token、词汇序列、AST、CFG、DFG）+模型层（DNN、CNN、RNN、GNN、Encoder-Decoder）+输出层（连续向量）+应用层（下层任务，如克隆检测、缺陷检测、代码推荐、摘要生成）
```
#### 2.RNN模型：
```
（1）RNN将隐藏层层内节点相连，对序列数据之间的依赖性建模，网络接收输入序列作为输入，产生固定大小的向量作为序列的表示
（2）主要用途是处理和预测序列数据，因此在代码翻译、代码推荐等必须要考虑上下文相关信息的任务上，表现出较好的性能。但是当上下文序列很长的时候，容易有梯度消失时的问题
```
#### 3.CNN模型：
```
（1）CNN是一种特殊的前馈神经网络结构，为减少网络中参数个数，用卷积层来代替传统的全连接层，数固固定大小的向量
```
#### 4.DNN模型：
```
（1）DNN模型就是多层神经网络，在一维数据上具有较好的表现，可通过各种组合形式，把不同类型数据融合一起，但实际应用中采用较少的模型。
（2）比如将源代码分为词汇、token、类型三个映射通路，分别学习得到对应表征向量之后，将三路向量结合得到输出层的表征向量
```
#### 5.Encoder-Decoder模型：
```
（1）编码-解码模型是一个解决Seq2Seq问题的模型，就是根据一个输入序列 X ，来生成另一个输出序列Y ，通过一个编码和一个解码过程来重构输入数据。编码器和解码器可以是任意一种深度神经模型。
（2）这是一个通用模型，只要是端到端的任务，这个模型都能胜任
```
#### 6.GNN模型：
```
（1）新型多模态注意力机制网络，用于便是源代码的非结构化和结构化特征，其中LSTM表示代码分词，Tree-LSTM表示代码AST、GGNN表示代码CFG
```
## 五、研究方向预测
#### 1.通用深度学习网络的搭建
```
Code2Vec + CodeBERT
```
#### 2.多模态的学习框架搭建
```
代码不仅具有文本自然性，同时具有语法结构信息，而且代码是可执行的，具有动态语义特征，和词汇、语法和语义都有相关性，因此结合深度学习技术，采用多模态代码表征方式，构建新的学习框架，从词汇、语法、执行路径等多个方面学习代码的语义信息，直接学习隐藏在源代码中更加复杂的语义和语法特征
```
#### 3.现有语言模型的改进
```
程序代码和自然语言只有小部分词汇是重复的，即使相同的词，在自然语言和程序代码中的含义也不相同，而且程序员可以随意给变量命名，造成代码的词汇是开放性的，因此，不能直接把语言模型应用到代码上，必须挖掘程序代码的其他特征
```